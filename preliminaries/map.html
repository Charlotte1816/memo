<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="物理学のための数学的準備に関する覚書．">
        <meta name="keywords" content="覚書, 物理学, 数学, 写像">
        <meta name="author" content="Charlotte">
        <meta name="robots" content="index, follow">
        <meta name="googlebot" content="index, follow">
        <title>写像</title>
        <link rel="stylesheet" href="/style.css">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon" href="/stained_glass.png">
        <script>
            MathJax = {
                tex: {
                    inlineMath: [['$', '$'], ['\\(', '\\)']]
                }
            };
        </script>
        <style>
            .MathJax {
                margin: 0 0.2em;
            }
        </style>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    <body>
        <div class="container" id="top">
            <div style="text-align: right;">
                <img src="/logo.png" style="height: 5em;">
            </div>
            <h1>写像</h1>
            <p>更新日: <script>document.write(new Date(document.lastModified).toLocaleDateString('ja-JP'));</script></p>
            <nav>
                <ul>
                    <li><a href="/index.html">HOME</a></li>
                </ul>
                <ul>
                    <li><a href="preliminaries.html">数学的準備</a></li>
                </ul>
                <ul>
                    <li><a href="#top">TOP</a></li>
                </ul>
            </nav>
            <hr>
            <h2>概要</h2>
            <p>写像は数学における基本的な概念であり，集合の要素間の対応関係を表す．これは関数や変換の一般化として捉えることができ，解析学や代数学，幾何学など多くの分野で基本的な役割を果たす．</p>
            <hr>
            <h2>目次</h2>
            <ul>
                <li><a href="#definition">定義</a></li>
                <li><a href="#equivalence">同値関係と同値類</a></li>
            </ul>
            <hr>
            <h2 id="definition">定義</h2>
            <div class="definition">
                <div class="definition-title">定義</div>
                $X,Y$を集合とする．各$x\in X$に$y\in Y$を割り当てる規則を<b>写像（map）</b>と呼び，$f:X\to Y$と書く．より明示的には$f:x\mapsto f(x)$と表す．
            </div>
            <p>同じ$y\in Y$に割り当てられている$X$の元は一般に1つだけとは限らない．</p>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$f:X\to Y$に対して，ある$y\in Y$に写される$X$の元全体の集合$\{x\in X \mid f(x)=y\}$を<b>$y$の逆像（inverse image）</b>と呼び，$f^{-1}(y)$と書く．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$f:X\to Y$に対して，$X$を<b>定義域（domain）</b>，$Y$を<b>値域（codomain）</b>と呼ぶ．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$f:X\to Y$によって写される$X$の元全体の集合$\{y\in Y\mid y=f(x), x\in X\}$を<b>像（image）</b>と呼び，$f(X)$あるいは$\mathrm{im}f$と書く．
            </div>
            <p>次の例のように，写像$f$について考えるとき，定義域と値域は重要な役割を果たす．</p>
            <div class="example">
                <div class="example-title">例</div>
                <ul>
                    <li>$f(x)=e^x$を考える．もし定義域と値域がともに$\mathbb{R}$ならば，$f(x)=-1$は逆像をもたない．一方で，定義域と値域がともに$\mathbb{C}$ならば，$-1$の逆像として$f^{-1}=\{(2n+1)\pi i\mid n\in\mathbb{Z}\}$がある．</li>
                    <li>$f(x)=\sin{x}$を考える．もし定義域と値域がともに$\mathbb{R}$ならば，$f$の像は$[-1,1]$となる．一方で$\mathbb{C}$ならば，$f$の像は$\mathbb{C}$となる（このとき$\sin{z}= (e^{iz}-e^{-iz})/2i$であることに注意）．</li>
                </ul>
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                <ul>
                    <li>写像$f:X\to Y$が<b>単射（injective）</b>であるとは，$X$の異なる2つの元$x\neq x'$に対して$f(x)\neq f(x')$となることである．</li>
                    <li>写像$f:X\to Y$が<b>全射（surjective）</b>であるとは，全ての$y\in Y$に対してある$x\in X$が存在し$f(x)=y$が成り立つことである．</li>
                    <li>写像$f:X\to Y$が<b>全単射（bijective）</b>であるとは，$f$が単射かつ全射であることである．</li>
                </ul>
            </div>
            <div class="image-grid">
                <div style="display: flex; justify-content: center; gap: 1em; margin-bottom: 1em;">
                    <figure style="width: 45%; text-align: center;">
                        <img src="map1.png" style="width: 100%;">
                        <figcaption>全射だが単射でない</figcaption>
                    </figure>
                    <figure style="width: 45%; text-align: center;">
                        <img src="map2.png" style="width: 100%;">
                        <figcaption>単射だが全射でない</figcaption>
                    </figure>
                </div>
                <div style="display: flex; justify-content: center; gap: 1em;">
                    <figure style="width: 45%; text-align: center;">
                        <img src="map3.png" style="width: 100%;">
                        <figcaption>全単射</figcaption>
                    </figure>
                    <figure style="width: 45%; text-align: center;">
                        <img src="map4.png" style="width: 100%;">
                        <figcaption>単射でも全射でもない</figcaption>
                    </figure>
                </div>
            </div>
            <div class="example">
                <div class="example-title">例</div>
                <ul>
                    <li>写像$f:\mathbb{R}\to\mathbb{R}$を$f:x\mapsto ax\,(a\in\mathbb{R}-\{0\})$とする．このとき$f$は全単射である．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$f$が単射であることを示す．$f(x)=f(x')$とすると，$ax=ax'$より$x=x'$が成り立つ．</li>
                                <li>$f$が全射であることを示す．任意の$y\in\mathbb{R}$に対して，$f(x)=y$となる$x\in\mathbb{R}$が存在する．実際，$x=y/a$とすれば$f(x)=y$が成り立つ．</li>
                            </ul>
                        </div>
                    </li>
                    <li>写像$f:\mathbb{R}\to\mathbb{R}$を$f:x\mapsto x^2$とする．このとき$f$は単射でも全射でもない．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$f$が単射でないことを示す．$f(-1)=f(1)=1$であるため，$f$は単射でない．</li>
                                <li>$f$が全射でないことを示す．$f(x)=y$となる$x\in\mathbb{R}$が存在しない$y<0$が存在する．</li>
                            </ul>
                        </div>
                    </li>
                    <li>写像$f:\mathbb{R}\to\mathbb{R}$を$f:x\mapsto e^x$とする．このとき$f$は単射だが全射でない．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$f$が単射であることを示す．$f(x)=f(x')$とすると，$e^x=e^{x'}$より$x=x'$が成り立つ．</li>
                                <li>$f$が全射でないことを示す．$f(x)=y$となる$x\in\mathbb{R}$が存在しない$y<0$が存在する．</li>
                            </ul>
                        </div>
                    </li>
                    <li>写像$f:\mathbb{R}\to\mathbb{R}$を$f:x\mapsto \sin{x}$とする．このとき$f$は単射でも全射でもない．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$f$が単射でないことを示す．$f(0)=f(2\pi)=0$であるため，$f$は単射でない．</li>
                                <li>$f$が全射でないことを示す．$f(x)=y$となる$x\in\mathbb{R}$が存在しない$y\notin[-1,1]$が存在する．</li>
                            </ul>
                        </div>
                        しかし，定義域を$[-\pi/2,\pi/2]$とし，値域を$[-1,1]$とすると，$f$は全単射となる．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$f$が単射であることを示す．$f(x)=f(x')$とすると，$\sin{x}=\sin{x'}$より$x=x'$が成り立つ．</li>
                                <li>$f$が全射であることを示す．任意の$y\in[-1,1]$に対して，$f(x)=y$となる$x\in[-\pi/2,\pi/2]$が存在する．実際，$x=\arcsin{y}$が定義でき$f(x)=y$が成り立つ．</li>
                            </ul>
                        </div>
                    </li>
                    <li>正則（$\det M\neq0$）な$n\times n$行列全体の集合を$\mathrm{GL}(n,\mathbb{R})$とし，$\mathrm{GL}(n,\mathbb{R})\supset M:\mathbb{R}^n\to\mathbb{R}^n$を$M:\boldsymbol{x}\mapsto M\boldsymbol{x}$とする．このとき$M$は全単射である．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$M$が単射であることを示す．$M\boldsymbol{x}=M\boldsymbol{x}'$とすると，$M(\boldsymbol{x}-\boldsymbol{x}')=\boldsymbol{0}$である．$\det M\neq0$より$\boldsymbol{x}=\boldsymbol{x}'$が成り立つ．</li>
                                <li>$M$が全射であることを示す．任意の$\boldsymbol{y}\in\mathbb{R}^n$に対して，$M\boldsymbol{x}=\boldsymbol{y}$となる$\boldsymbol{x}\in\mathbb{R}^n$が存在する．実際，$M^{-1}\boldsymbol{y}$が定義できるため$M(M^{-1}\boldsymbol{y})=\boldsymbol{y}$が成り立つ．</li>
                            </ul>
                        </div>
                        この証明からも分かるように，もし$\det M=0$ならば，$M$は単射でも全射でもない．
                    </li>
                </ul>
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$c:X\to Y$を$c(x)=y_0$とする．このとき，$c$を<b>定値写像（constant map）</b>と呼ぶ．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$f:X\to Y$の定義域を$A\subset X$に<b>制限（restriction）</b>した写像を$f|_A:A\to Y$と書く．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                写像$f:X\to Y$と写像$g:Y\to Z$に対して，$g\circ f:X\to Z$を$g\circ f:x\mapsto g(f(x))$で定義される写像とする．このとき，$g\circ f$を$g$と$f$の<b>合成写像（composite map）</b>と呼ぶ．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                集合の間の写像の合成写像が，その合成の仕方に依らないとき，写像の図式は<b>可換（commutative）</b>であるという．
                \begin{CD}
                    A @>f>> B \\
                    @VgVV @VVhV \\
                    C @>>k> D
                \end{CD}
            </div>
            <div class="example">
                <div class="example-title">例</div>
                写像$f:\mathbb{R}\to\mathbb{R}$を$f:x\mapsto x^2$，写像$g:\mathbb{R}\to\mathbb{R}$を$g:x\mapsto e^x$とする．このとき，$g\circ f:\mathbb{R}\to\mathbb{R}$は$g\circ f:x\mapsto e^{x^2}$であり，$f\circ g:\mathbb{R}\to\mathbb{R}$は$f\circ g:x\mapsto (e^x)^2$である．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                集合$A$を集合$X$の部分集合とする．写像$i:A\to X$を任意の$a\in A$に対して$i:a\mapsto a$と定義される写像とする．この写像$i$を<b>包含写像（inclusion map）</b>と呼ぶ．包含写像は$i\hookrightarrow X$と書く場合がある．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                包含写像$i:X\to X$を<b>恒等写像（identity map）</b>と呼び，$\mathrm{id}_X:X\to X$と書く．
            </div>
            <p>写像$f:X\to Y$が全単射である場合，<b>逆写像</b>$f^{-1}:Y\to X$が$f^{-1}:f(x)\mapsto x$と定義でき，$f^{-1}$も全単射になる．そして明らかに$f\circ f^{-1}=\mathrm{id}_Y$，$f^{-1}\circ f=\mathrm{id}_X$が成り立つ．</p>
            <p>逆に$f\circ g=\mathrm{id}_X$，$g\circ f=\mathrm{id}_Y$が成り立つとき，写像$f,g$は全単射である．</p>
            <div class="proof">
                <div class="proof-title">証明</div>
                $g\circ f=\mathrm{id}_X$ならば$f$は単射であり，$g$は全射であることを示す：
                <ul>
                    <li>$f$が単射であることを示す．任意の$x, x' \in X$に対して，$f(x) = f(x')$と仮定する．このとき，$g(f(x)) = g(f(x'))$が成り立つ．$g\circ f = \mathrm{id}_X$より，$g(f(x)) = x$および$g(f(x')) = x'$が成り立つ．したがって，$x = x'$となり，$f$は単射である．</li>
                    <li>$g$が全射であることを示す．任意の$x \in X$に対して，$g(f(x)) = \mathrm{id}_X(x) = x$が成り立つ．したがって，$x = g(f(x))$となる$f(x) \in Y$が存在するため，$g$は全射である．</li>
                </ul>
                同様にして，$f\circ g=\mathrm{id}_Y$ならば$f$は全射であり，$g$は単射であることも示せる．
            </div>
            <div class="example">
                <div class="example-title">例</div>
                <ul>
                    <li>$f:\mathbb{R}\to(0,\infty)$を$f:x\mapsto e^x$とする．このとき$f$は全単射であり，逆写像$f^{-1}:(0,\infty)\to\mathbb{R}$は$f:x\mapsto\ln{x}$である．</li>
                    <li>
                        $g:(-\pi/2,\pi/2)\to(-1,1)$を$g:x\mapsto\sin{x}$とする．このとき$g$は全単射であり，逆写像$g^{-1}:(-1,1)\to(-\pi/2,\pi/2)$は$g:x\mapsto\arcsin{x}$である．
                    </li>
                </ul>
            </div>
            <div class="example">
                <div class="example-title">例</div>
                $n$次元Euclid群$E^n$は$n$次元並進$a:\boldsymbol{x}\mapsto \boldsymbol{x}+\boldsymbol{a}\,(\boldsymbol{x},\boldsymbol{a}\in\mathbb{R}^n)$と$\mathrm{O}(n)$回転$R:\boldsymbol{x}\mapsto R\boldsymbol{x}\,(R\in\mathrm{O}(n))$から構成される．このとき，$E^n$の元は$a$と$R$の組$(R,a):\boldsymbol{x}\mapsto R\boldsymbol{x}+\boldsymbol{a}$で表される．
                <ul>
                    <li>
                        $a:\boldsymbol{x}\mapsto \boldsymbol{x}+\boldsymbol{a}$は全単射である．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$a$が単射であることを示す．$a\boldsymbol{x}=a\boldsymbol{x}'$とすると，$\boldsymbol{x}=\boldsymbol{x}'$が成り立つ．</li>
                                <li>$a$が全射であることを示す．任意の$\boldsymbol{y}\in\mathbb{R}^n$に対して，$a\boldsymbol{x}=\boldsymbol{y}$となる$\boldsymbol{x}\in\mathbb{R}^n$が存在する．実際，$\boldsymbol{x}=\boldsymbol{y}-\boldsymbol{a}$が定義できるため$a\boldsymbol{x}=\boldsymbol{y}$が成り立つ．</li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        $R:\boldsymbol{x}\mapsto R\boldsymbol{x}$は全単射である．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$R$が単射であることを示す．$R\boldsymbol{x}=R\boldsymbol{x}'$とすると，$\boldsymbol{x}=\boldsymbol{x}'$が成り立つ．</li>
                                <li>$R$が全射であることを示す．任意の$\boldsymbol{y}\in\mathbb{R}^n$に対して，$R\boldsymbol{x}=\boldsymbol{y}$となる$\boldsymbol{x}\in\mathbb{R}^n$が存在する．実際，$\boldsymbol{x}=R^{-1}\boldsymbol{y}$が定義できるため$R\boldsymbol{x}=\boldsymbol{y}$が成り立つ．</li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        $E^n$の元$(R,a)$は全単射である．
                        <div class="proof">
                            <div class="proof-title">証明</div>
                            <ul>
                                <li>$(R,a)$が単射であることを示す．$(R,a)\boldsymbol{x}=(R,a)\boldsymbol{x}'$とすると，$R\boldsymbol{x}+\boldsymbol{a}=R\boldsymbol{x}'+\boldsymbol{a}$より$\boldsymbol{x}=\boldsymbol{x}'$が成り立つ．</li>
                                <li>$(R,a)$が全射であることを示す．任意の$\boldsymbol{y}\in\mathbb{R}^n$に対して，$(R,a)\boldsymbol{x}=\boldsymbol{y}$となる$\boldsymbol{x}\in\mathbb{R}^n$が存在する．実際，$\boldsymbol{x}=R^{-1}(\boldsymbol{y}-\boldsymbol{a})$が定義できるため$(R,a)\boldsymbol{x}=\boldsymbol{y}$が成り立つ．</li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                ある代数的構造（積や和など）が集合$X,Y$に与えられたとする．写像$f:X\to Y$がこの構造を保つとき，$f$を<b>準同型写像（homomorphism）</b>と呼ぶ．
            </div>
            <div class="example">
                <div class="example-title">例</div>
                集合$X,Y$に積が与えられたとする．写像$f:X\to Y$が$f(ab)=f(a)f(b)$を満たすとき，$f$は準同型写像である．ここで$ab$は集合$X$の積であり，$f(a)f(b)$は集合$Y$の積である．これらの積は一般に異なるものである．
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                準同型写像$f:X\to Y$が全単射であるとき，$f$を<b>同型写像（isomorphism）</b>と呼ぶ．またこのとき，集合$X,Y$は<b>同型（isomorphic）</b>であるといい，$X\cong Y$あるいは$x\cong y$と書く．
            </div>
            <hr>
            <h2 id="equivalence">同値関係と同値類</h2>
            <div class="definition">
                <div class="definition-title">定義</div>
                集合$X$上の<b>関係（relation）</b>とは，$X^2$の部分集合$R$である．$(a,b)\in X^2$が$R$に含まれるとき，$aRb$と書く．
            </div>
            <div class="example">
                <div class="example-title">例</div>
                関係$>$は$\mathbb{R}^2$の部分集合であり，$(a,b)\in >$のとき$a>b$と書く．
            </div>
            <div class="definition">
                集合$X$上の関係$R$が次の3つの性質を満たすとき，$R$は<b>同値関係（equivalence relation）</b>であるといい，$R$を$\sim$で表す．
                <ol>
                    <li>反射律（reflexive）：任意の$a\in X$に対して$a\sim a$が成り立つ．</li>
                    <li>対称律（symmetric）：任意の$a,b\in X$に対して$a\sim b$ならば$b\sim a$が成り立つ．</li>
                    <li>推移律（transitive）：任意の$a,b,c\in X$に対して$a\sim b$かつ$b\sim c$ならば$a\sim c$が成り立つ．</li>
                </ol>
            </div>
            <div class="example">
                <div class="example-title">例</div>
                整数を2で割ると，余りは0か1である．整数$n,m$が同じ余りを持つとき，$m\sim n$とすると，$\sim$は同値関係である．
                <div class="proof">
                    <div class="proof-title">証明</div>
                    <ul>
                        <li>反射律：任意の整数$n$に対して，$n$は自分自身と同じ余りを持つため，$n \sim n$が成り立つ．</li>
                        <li>対称律：$n \sim m$ならば，$n$と$m$は同じ余りを持つ．このとき，$m$と$n$も同じ余りを持つため，$m \sim n$が成り立つ．</li>
                        <li>推移律：$n \sim m$かつ$m \sim k$ならば，$n$と$m$，$m$と$k$がそれぞれ同じ余りを持つ．したがって，$n$と$k$も同じ余りを持つため，$n \sim k$が成り立つ．</li>
                    </ul>
                </div>
            </div>
            <div class="definition">
                <div class="definition-title">定義</div>
                集合$X$とその上の同値関係$\sim$が与えられたとき，$X$の「素集合（mutually disjoint）」への分割を<b>同値類（equivalence class）</b>と呼ぶ．類$[a]$は$x\sim a$となる$x$全体の集合である；$[a]=\{x\in X\mid x\sim a\}$．  
            </div>
            <p>
                $a\sim a$なので$[a]\neq\emptyset$である．また$[a]\cap[b]\neq\emptyset$ならば$[a]=[b]$である．
                <div class="proof">
                    <div class="proof-title">証明</div>
                    <ul>
                        <li>
                            ある$x\in[a]\cap[b]$が存在する．したがって，$x\sim a$かつ$x\sim b$が成り立つ．同値関係の対称律より，$a\sim x$が成り立つ．また，推移律より$a\sim b$が成り立つ．
                        </li>
                        <li>
                            $x\in[a]$とすると，$x\sim a$である．推移律より，$x\sim b$であるため，$x\in[b]$である．したがって，$[a]\subset[b]$である．同様にして$[b]\subset[a]$である．したがって，$[a]=[b]$である．
                        </li>
                    </ul>
                </div>
            </p>
            <p>
                したがって，$[a],[b]$は，$[a]=[b]$か$[a]\cap[b]=\emptyset$のどちらかを満たす．このようにして，$X$は同値関係$\sim$によって「互いに素」な同値類に分割される．
            </p>
            <div class="definition">
                <div class="definition-title">定義</div>
                集合$X$とその上の同値関係$\sim$が与えられたとき，$X$の同値類全体の集合を<b>商空間（quotient space）</b>と呼び，$X/\sim$と書く．また元$a$（または$[a]$の任意の元）を類$[a]$の<b>代表元（representative）</b>と呼ぶ．
            </div>
            <div class="example">
                <div class="example-title">例</div>
                整数を2で割ると，余りは0か1である．整数$n$の同値類は$n$が0か1であるかによって分けられる：
                <ul>
                    <li>類$[0]=\{\cdots,-4,-2,0,2,4,\cdots\}$．代表元としては例えば$0$を選べる．</li>
                    <li>類$[1]=\{\cdots,-3,-1,1,3,5,\cdots\}$．代表元としては例えば$1$を選べる．</li>
                </ul>
                このとき，$\mathbb{Z}/\sim=\{[0],[1]\}$である．これは位数2の<b>巡回群（cyclic group）</b>$\mathbb{Z}_2$に同型である．$\mathbb{Z}_2$は代数的には$0,1$の2つの元からなる群であり，$0+0=0$，$0+1=1$，$1+0=1$，$1+1=0$である．一般に$\mathbb{Z}$を$n$で割ったときの余りで同値類を考えると，商空間は$\mathbb{Z}/n\mathbb{Z}=\{[0],[1],\cdots,[n-1]\}$であり，これは位数$n$の巡回群$\mathbb{Z}_n$に同型である．
            </div>
        </div>
    </body>
</html>
